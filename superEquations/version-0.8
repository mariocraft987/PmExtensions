/*
  Created by mariocraft987 <scratch.mit.edu/users/mariocraft987>
  Licensed under the @MIT License
  Version 0.8
*/

(async function(Scratch) {
  "use strict";
  class superEquations {
    getInfo() {
     return {
      id: 'thesuperequationsidk',
      name: 'Super Equations',
      color1: '#8c2eff',
      blocks: [
          {
            opcode: 'normalEquation',
            blockType: Scratch.BlockType.REPORTER,
            text: 'Sum of [one] [EQUATION] [two]',
            disableMonitor: true,
            arguments: {
              one: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: "1"
              },
              two: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: "2"
              },
              EQUATION: {
                type: Scratch.ArgumentType.STRING,
                menu: 'equationFields',
                defaultValue: 'plus'
              },
            }
          },
          { blockType: Scratch.BlockType.LABEL, text: "Booleans" },
          {
            opcode: 'booleanSecondEquation',
            blockType: Scratch.BlockType.BOOLEAN,
            text: '[one] [EQUATION] [two] ?',
            disableMonitor: true,
            arguments: {
              one: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: "2"
              },
              two: {
                type: Scratch.ArgumentType.NUMBER,
                defaultValue: "5"
              },
              EQUATION: {
                type: Scratch.ArgumentType.STRING,
                menu: 'booleanSecondFields',
                defaultValue: 'equal1'
              },
            }
          },
          {
            opcode: 'booleanEquation',
            blockType: Scratch.BlockType.BOOLEAN,
            text: '[one] [EQUATION] [two] ?',
            disableMonitor: true,
            arguments: {
              one: {
                type: Scratch.ArgumentType.BOOLEAN,
                defaultValue: ""
              },
              two: {
                type: Scratch.ArgumentType.BOOLEAN,
                defaultValue: ""
              },
              EQUATION: {
                type: Scratch.ArgumentType.STRING,
                menu: 'booleanFields',
                defaultValue: 'and'
              },
            }
          },
          {
          opcode: 'backwardBoolean',
          blockType: Scratch.BlockType.BOOLEAN,
          text: '[STR] reversed',
          disableMonitor: true,
          arguments: {
            STR: {
                type: Scratch.ArgumentType.BOOLEAN,
                defaultValue: "true"
            },
          }
        },
        
      ],
            menus: {
        equationFields: [
          {text: '+', value: 'plus'},
          {text: '-', value: 'minus'},
          {text: 'ร', value: 'times'},
          {text: 'รท', value: 'divide'},
          {text: '%', value: 'remainder'},
        ],
        booleanFields: [
          {text: 'and', value: 'and'},
          {text: 'or', value: 'or'},
        ],
        booleanSecondFields: [
          {text: '=', value: 'equal1'},
          {text: '===', value: 'equal2'},
          {text: '!=', value: 'equal0'},
          {text: '<', value: 'less'},
          {text: '>', value: 'more'},
        ],
      }
    };
  }

  normalEquation(args) {
    let first = args.one
    let second = args.two
    if (args.EQUATION == "plus") {return (first + second)}
    if (args.EQUATION == "minus") {return (first - second)}
    if (args.EQUATION == "times") {return (first * second)}
    if (args.EQUATION == "divide") {return (first / second)}
    if (args.EQUATION == "remainder") {return (first % second)}
  }
  
  booleanEquation(args) {
    let first = args.one
    let second = args.two
    if (args.EQUATION == "and") {return (first && second)}
    if (args.EQUATION == "or") {return (first || second)}
  }
  
    booleanSecondEquation(args) {
    let first = args.one
    let second = args.two
    if (args.EQUATION == "equal1") {return (first == second)}
    if (args.EQUATION == "equal2") {return (first === second)}
    if (args.EQUATION == "equal0") {return (first != second)}
    if (args.EQUATION == "less") {return (first < second)}
    if (args.EQUATION == "more") {return (first > second)}
  }
  
  backwardBoolean(args) {
      return (args.STR == false)
  }
  
}

Scratch.extensions.register(new superEquations());
})(Scratch);
